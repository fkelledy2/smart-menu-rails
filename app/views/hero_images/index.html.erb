<div class="row">
  <div class="col-6 d-flex align-items-center">
    <h4 class="mb-0">Hero Images</h4>
  </div>
  <div class="col-6 text-end">
    <div class="btn-group">
      <%= link_to 'New Hero Image', new_hero_image_path, class: 'btn btn-primary' %>
      <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden">Toggle Dropdown</span>
      </button>
      <ul class="dropdown-menu dropdown-menu-end">
        <li class="px-3 py-2 text-muted small">Admin Actions</li>
        <li>
          <%= button_to 'Clear Cache', clear_cache_hero_images_path, method: :post, form: { data: { turbo: false } }, class: 'dropdown-item text-danger', data: { confirm: 'This clears the Rails cache. Proceed?' } %>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="row mt-3">
  <div class="col-12">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Preview</th>
          <th>Alt Text</th>
          <th>Sequence</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @hero_images.each do |hero_image| %>
          <tr>
            <td>
              <img src="<%= hero_image.image_url %>" alt="<%= hero_image.alt_text %>" style="max-width: 100px; max-height: 60px; object-fit: cover;">
            </td>
            <td><%= hero_image.alt_text %></td>
            <td><%= hero_image.sequence %></td>
            <td>
              <% if hero_image.approved? %>
                <span class="badge bg-success">Approved</span>
              <% else %>
                <span class="badge bg-warning">Unapproved</span>
              <% end %>
            </td>
            <td>
              <%= link_to 'Show', hero_image, class: 'btn btn-sm btn-info' %>
              <%= link_to 'Edit', edit_hero_image_path(hero_image), class: 'btn btn-sm btn-warning' %>
              <%= link_to 'Delete', hero_image, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger' %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
