<%# Key Performance Indicators Component %>

<div class="col-md-3 col-sm-6 mb-3">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-body">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <div class="bg-primary bg-opacity-10 rounded-3 p-3">
            <i class="fas fa-tachometer-alt text-primary fs-4"></i>
          </div>
        </div>
        <div class="flex-grow-1 ms-3">
          <div class="fw-bold text-dark fs-4" id="cache-hit-rate">
            <%= number_to_percentage(performance_data.dig(:cache_performance, :hit_rate) || 0, precision: 1) %>
          </div>
          <div class="text-muted small">Cache Hit Rate</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="col-md-3 col-sm-6 mb-3">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-body">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <div class="bg-success bg-opacity-10 rounded-3 p-3">
            <i class="fas fa-clock text-success fs-4"></i>
          </div>
        </div>
        <div class="flex-grow-1 ms-3">
          <div class="fw-bold text-dark fs-4" id="avg-response-time">
            <%= number_with_precision((performance_data.dig(:response_times, :average) || 0) * 1000, precision: 0) %>ms
          </div>
          <div class="text-muted small">Avg Response Time</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="col-md-3 col-sm-6 mb-3">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-body">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <div class="bg-info bg-opacity-10 rounded-3 p-3">
            <i class="fas fa-database text-info fs-4"></i>
          </div>
        </div>
        <div class="flex-grow-1 ms-3">
          <div class="fw-bold text-dark fs-4" id="replica-queries">
            <%= number_with_delimiter(performance_data.dig(:database_performance, :replica_queries) || 0) %>
          </div>
          <div class="text-muted small">Replica Queries</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="col-md-3 col-sm-6 mb-3">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-body">
      <div class="d-flex align-items-center">
        <div class="flex-shrink-0">
          <div class="bg-warning bg-opacity-10 rounded-3 p-3">
            <i class="fas fa-users text-warning fs-4"></i>
          </div>
        </div>
        <div class="flex-grow-1 ms-3">
          <div class="fw-bold text-dark fs-4" id="unique-visitors">
            <%= number_with_delimiter(performance_data.dig(:user_activity, :unique_visitors) || 0) %>
          </div>
          <div class="text-muted small">Unique Visitors</div>
        </div>
      </div>
    </div>
  </div>
</div>
