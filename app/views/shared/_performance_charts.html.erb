<%# Performance Charts Component %>

<!-- Charts Row 1: Cache & Database Performance -->
<div class="col-lg-6 mb-4">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-header bg-white border-0 pb-0">
      <h5 class="card-title mb-0">
        <i class="fas fa-memory text-primary me-2"></i>
        Cache Performance
      </h5>
    </div>
    <div class="card-body">
      <canvas id="cachePerformanceChart" height="300"></canvas>
    </div>
  </div>
</div>

<div class="col-lg-6 mb-4">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-header bg-white border-0 pb-0">
      <h5 class="card-title mb-0">
        <i class="fas fa-database text-success me-2"></i>
        Database Query Distribution
      </h5>
    </div>
    <div class="card-body">
      <canvas id="databaseQueriesChart" height="300"></canvas>
    </div>
  </div>
</div>

<!-- Charts Row 2: Response Times & User Activity -->
<div class="col-lg-6 mb-4">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-header bg-white border-0 pb-0">
      <h5 class="card-title mb-0">
        <i class="fas fa-stopwatch text-info me-2"></i>
        Response Time Metrics
      </h5>
    </div>
    <div class="card-body">
      <canvas id="responseTimeChart" height="300"></canvas>
    </div>
  </div>
</div>

<div class="col-lg-6 mb-4">
  <div class="card border-0 shadow-sm h-100">
    <div class="card-header bg-white border-0 pb-0">
      <h5 class="card-title mb-0">
        <i class="fas fa-chart-area text-warning me-2"></i>
        User Activity Overview
      </h5>
    </div>
    <div class="card-body">
      <canvas id="userActivityChart" height="300"></canvas>
    </div>
  </div>
</div>

<!-- System Metrics Row -->
<div class="col-12 mb-4">
  <div class="card border-0 shadow-sm">
    <div class="card-header bg-white border-0 pb-0">
      <h5 class="card-title mb-0">
        <i class="fas fa-server text-danger me-2"></i>
        System Metrics
      </h5>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-lg-8">
          <canvas id="systemMetricsChart" height="200"></canvas>
        </div>
        <div class="col-lg-4">
          <div class="row">
            <div class="col-6 col-lg-12 mb-3">
              <div class="text-center p-3 bg-light rounded">
                <div class="fs-4 fw-bold text-primary">
                  <%= performance_data.dig(:system_metrics, :memory_usage) || 0 %>MB
                </div>
                <div class="small text-muted">Memory Usage</div>
              </div>
            </div>
            <div class="col-6 col-lg-12 mb-3">
              <div class="text-center p-3 bg-light rounded">
                <div class="fs-4 fw-bold text-success">
                  <%= performance_data.dig(:system_metrics, :active_connections) || 0 %>
                </div>
                <div class="small text-muted">Active Connections</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
