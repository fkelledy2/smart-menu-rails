<%= render 'shared/customcss' %>
<div class="page-header">
  <div class="row">
    <div class="col-12">
      <h4>
        <%= link_to edit_restaurant_path(@menu.restaurant), class: "link-dark" do %>
          <%= @menu.restaurant.name %>
        <% end %>
        <small><i class="bi bi-chevron-compact-right"></i></small>
        <%= @menu.name %>
      </h4>
    </div>
  </div>
</div>

<ul style="height:43px;overflow-y:hidden;" class="nav nav-tabs overflow-auto flex-nowrap" id="menuTabsBack" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link link-dark">
      <%= link_to edit_restaurant_path(@menu.restaurant), class: "link-dark" do %>
        <strong><i class="bi bi-chevron-double-left"></i></strong>
      <% end %>
    </button>
  </li>
</ul>
<ul style="position:relative;top:-43px;left:50px;height:43px;overflow-y:hidden;width:85%;mask-image: linear-gradient(to right, #008080, rgba(0,32,32,0) 120%" class="nav nav-tabs overflow-auto flex-nowrap" id="menuTabs" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link link-dark active" id="menu-tab" data-bs-toggle="tab" data-bs-target="#menu" type="button" role="tab" aria-controls="menuConfig" aria-selected="true">Menu</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link link-dark" id="menusection-tab" data-bs-toggle="tab" data-bs-target="#menusection" type="button" role="tab" aria-controls="menusectionConfig" aria-selected="false">Sections</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link link-dark" id="menuavailability-tab" data-bs-toggle="tab" data-bs-target="#menuavailability" type="button" role="tab" aria-controls="menuavailabilityConfig" aria-selected="false">Availabilites</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link link-dark" id="menu-qrcode-tab" data-bs-toggle="tab" data-bs-target="#menuqrcode" type="button" role="tab" aria-controls="menuqrcodeConfig" aria-selected="false">QRCode</button>
  </li>
</ul>

<div style="position:relative;top:-43px;">
  <div class="tab-content" id="menuConfig">
    <div class="tab-pane fade show active" id="menu" role="tabpanel" aria-labelledby="home-tab">
      <p>
      <div class="row">
        <div class="col-12">
          <%= render 'form', menu: @menu %>
        </div>
      </div>
    </div>
  </div>
  <div class="tab-content" id="menusectionConfig">
    <div class="tab-pane fade" id="menusection" role="tabpanel" aria-labelledby="menusection-tab">
      <p>
      <div class="row">
        <div class="col-12">
          <%= render 'showMenusections', menu: @menu, edit: false %>
        </div>
      </div>
    </div>
  </div>
  <div class="tab-content" id="menuavailabilityConfig">
    <div class="tab-pane fade" id="menuavailability" role="tabpanel" aria-labelledby="menuavailability-tab">
      <p>
      <div class="row">
        <div class="col-12">
          <%= render 'showMenuavailabilities', menu: @menu, edit: false %>
        </div>
      </div>
    </div>
  </div>
  <div class="tab-content" id="menuqrcodeConfig">
    <div class="tab-pane fade" id="menuqrcode" role="tabpanel" aria-labelledby="menuqrcode-tab">
        <p style='height:30px'>
        <div class="card">
          <h5 class="card-header d-flex justify-content-center"> Scan for Menu: <%= @menu.name %></h5>
          <div class="card-body">
              <div class="row">
                <span style='display:none' id="qr_slug"><%= @qrURL %></span>
                <span style='display:none' id="qr_icon"><%= image_url('qr-icon.svg') %></span>
                <div class="col-12">
                    <div id="qrcanvas" class="d-flex justify-content-center">
                    </div>
                </div>
              </div>
          </div>
        </div>

    </div>
  </div>
</div>

