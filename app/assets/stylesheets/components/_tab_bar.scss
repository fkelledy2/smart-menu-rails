// ============================================================================
// TAB BAR â€” Phase 1 Foundation
// Horizontal scrollable tab bar for mobile navigation
// ============================================================================

.tab-bar {
  position: relative;
  background: #fff;
  border-bottom: 1px solid var(--color-gray-200, #E5E7EB);
  overflow: hidden;
}

// Scrollable container
.tab-bar__scroll {
  display: flex;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  gap: var(--space-1, 0.25rem);
  padding: 0 var(--space-4, 1rem);

  &::-webkit-scrollbar {
    display: none;
  }

  // Fade gradient on right edge to indicate overflow
  &::after {
    content: "";
    position: sticky;
    right: 0;
    flex-shrink: 0;
    width: 32px;
    background: linear-gradient(to right, transparent, #fff);
    pointer-events: none;
  }
}

// Individual tab
.tab-bar__tab {
  flex-shrink: 0;
  display: inline-flex;
  align-items: center;
  padding: var(--space-3, 0.75rem) var(--space-4, 1rem);
  font-size: var(--text-sm, 0.875rem);
  font-weight: var(--font-medium, 500);
  color: var(--color-gray-500, #6B7280);
  text-decoration: none;
  white-space: nowrap;
  border-bottom: 2px solid transparent;
  transition: color var(--transition-fast), border-color var(--transition-fast);
  min-height: var(--touch-target-min, 44px);

  &:hover {
    color: var(--color-gray-700, #374151);
    text-decoration: none;
  }

  &--active {
    color: var(--color-primary, #2563EB);
    font-weight: var(--font-semibold, 600);
    border-bottom-color: var(--color-primary, #2563EB);
  }
}

// Animated underline indicator
.tab-bar__indicator {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 2px;
  background: var(--color-primary, #2563EB);
  transition: transform var(--motion-duration-base, 200ms) var(--motion-easing, cubic-bezier(0.25, 0.1, 0.25, 1)),
              width var(--motion-duration-base, 200ms) var(--motion-easing, cubic-bezier(0.25, 0.1, 0.25, 1));
  pointer-events: none;
}

// ============================================================================
// DARK MODE
// ============================================================================
:root[data-theme="dark"] {
  .tab-bar {
    background: var(--color-gray-100, #1F2937);
    border-bottom-color: var(--color-gray-300, #4B5563);
  }

  .tab-bar__scroll::after {
    background: linear-gradient(to right, transparent, var(--color-gray-100, #1F2937));
  }

  .tab-bar__tab {
    color: var(--color-gray-400, #9CA3AF);

    &:hover {
      color: var(--color-gray-200, #E5E7EB);
    }

    &--active {
      color: var(--color-primary, #60A5FA);
      border-bottom-color: var(--color-primary, #60A5FA);
    }
  }
}
